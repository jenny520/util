!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).zmyUtils={})}(this,(function(e){"use strict";var t="undefined"!=typeof window,n=t&&window.navigator.userAgent.toLocaleLowerCase(),i=n&&/msie|trident/.test(n),r=n&&-1<n.indexOf("msie 9.0"),o=n&&-1<n.indexOf("edge/"),s=n&&-1<n.indexOf("android"),c=n&&/iphone|ipad|ipod|ios/.test(n),a=n&&/iphone/.test(n)&&(812===window.screen.height&&375===window.screen.width||896===window.screen.height&&414===window.screen.width),f=n&&/chrome\/\d+/.test(n)&&!i,u=n&&-1<n.indexOf("ucbrowser"),d=n&&/micromessenger/.test(n),l=n&&/qq/.test(n),p=n&&/alipayclient|dingtalk/.test(n);function h(e){return"function"==typeof e&&/native code/.test(e.toString())}var y={}.watch;function v(){this.set=Object.create(null)}"undefined"!=typeof Set&&h(Set)?e._Set=Set:e._Set=(v.prototype.has=function(e){return!0===this.set[e]},v.prototype.add=function(e){this.set[e]=!0},v.prototype.clear=function(){this.set=Object.create(null)},v);var m=Object.prototype.hasOwnProperty,g=Object.prototype.toString;function b(e,t,n){}e.isUsingMicroTask=!1;var w,O=[],x=!1;function S(){x=!1;for(var e=O.slice(0),t=O.length=0;t<e.length;t++)e[t]()}if("undefined"!=typeof Promise&&h(Promise)){var j=Promise.resolve();w=function(){j.then(S),c&&setTimeout(b)},e.isUsingMicroTask=!0}else if(i||"undefined"==typeof MutationObserver||!h(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())w="undefined"!=typeof setImmediate&&h(setImmediate)?function(){setImmediate(S)}:function(){setTimeout(S,0)};else{var T=1,A=new MutationObserver(S),M=document.createTextNode(String(T));A.observe(M,{characterData:!0}),w=function(){T=(T+1)%2,M.data=String(T)},e.isUsingMicroTask=!0}function P(){this.context=null,this.events={}}function k(e,t){t=t||0;for(var n=e.length-t,i=new Array(n);n--;)i[n]=e[n+t];return i}var C=new(P.prototype.bind=function(e){return this.context=e,this},P.prototype.on=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n--)this.on(e[n],t);else this.events[e]||(this.events[e]=[]).push(t);return this},P.prototype.once=function(e,t){var n=this;function i(){n.off(e,i),t.apply(n,arguments)}return i.fn=t,n.on(e,i),n},P.prototype.off=function(e,t){var n=this;if(!arguments.length)return n.events=Object.create(null),n;if(Array.isArray(e)){for(var i=0;i<e.length;i--)n.off(e[i],t);return n}var r=n.events[e];if(!r)return n;if(!t)return n.events[e]=null,n;if(t){var o=void 0;for(i=r.length;i--;)if((o=r[i])===t||o.fn===t){r.splice(i,1);break}}return n},P.prototype.emit=function(e){var t=this.events[e];if(t){t=1<t.length?k(t):t;for(var n=k(arguments,1),i=0,r=t.length;i<r;i++)try{t[i].apply(this,n)}catch(e){console.log(e)}}return this},P);e.UA=n,e.def=function(e,t,n,i){return Object.defineProperty(e,t,{value:n,enumerable:!!i,writable:!0,configurable:!0})},e.eventBus=C,e.hasOwn=function(e,t){return m.call(e,t)},e.hasProto="__proto__"in{},e.inBrowser=t,e.isAli=p,e.isAndroid=s,e.isChrome=f,e.isEdge=o,e.isIE=i,e.isIE9=r,e.isIOS=c,e.isIphonex=a,e.isNative=h,e.isObject=function(e){return null!==e&&"object"==typeof e},e.isPlainObject=function(e){return"[object Object]"===g.call(e)},e.isQQ=l,e.isUC=u,e.isValidArrayIndex=function(e){var t=parseFloat(String(e));return 0<=t&&Math.floor(t)===t&&isFinite(e)},e.isWechat=d,e.loadScript=function(e){var t=document.createElement("script");t.type="text/javascript",t.src=e,document.body.appendChild(t)},e.loadStyle=function(e){var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)},e.loadStyleString=function(e){var t=document.createElement("style");t.type="text/css";try{t.appendChild(document.createTextNode(e))}catch(n){t.stylesheet.cssText=e}document.getElementsByTagName("head")[0].appendChild(t)},e.nativeWatch=y,e.nextTick=function(e,t){var n;if(O.push((function(){if(e)try{e.call(t)}catch(e){console.log(e,t,"nextTick")}else n&&n(t)})),x||(x=!0,w()),!e&&"undefined"!=typeof Promise)return new Promise((function(e){n=e}))},e.noop=b,e.remove=function(e,t){if(e.length){var n=e.indexOf(t);if(-1<n)return e.splice(n,1)}},Object.defineProperty(e,"__esModule",{value:!0})}));
